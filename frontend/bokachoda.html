<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ultimate Routine</title>

<script src="https://cdn.tailwindcss.com"></script>

<link href="https://fonts.googleapis.com/css2?family=Nosifer&family=Orbitron&family=Hind+Siliguri:wght@500&display=swap" rel="stylesheet">

<link rel="preload" as="audio" href="heartbeat.mp3">
<link rel="preload" as="audio" href="glitch.mp3">
<link rel="preload" as="audio" href="fokir.mp3">
<link rel="preload" as="audio" href="robodic_sound.mp3">
<link rel="preload" as="audio" href="acp.mp3">
<link rel="preload" as="video" href="nikallowde.mp4">
<link rel="preload" as="video" href="backchodix.mp4">
<link rel="preload" as="image" href="robodic.jpg">
<link rel="preload" as="image" href="Class_Routine_Spring2026_Sec-3.png">

<style>
    body {
        background: radial-gradient(circle at top, #0a0a0a, #000000);
        color: #e5e5e5;
        font-family: 'Orbitron', sans-serif;
        overflow-x: hidden;
        min-height: 100vh;
        margin: 0;
    }

    .horror-font { font-family: 'Nosifer', cursive; }
    .bangla-font { font-family: 'Hind Siliguri', sans-serif; }

    .fade-in { animation: fadeIn 2s ease forwards; }
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .glitch { animation: glitch 0.4s infinite; }
    @keyframes glitch {
        0% { text-shadow: 2px 2px red; }
        50% { text-shadow: -2px -2px cyan; }
        100% { text-shadow: 2px -2px magenta; }
    }

    .shake { animation: shake 0.15s infinite; }
    @keyframes shake {
        0% { transform: translate(2px, 1px); }
        25% { transform: translate(-2px, -1px); }
        50% { transform: translate(2px, -1px); }
        75% { transform: translate(-2px, 1px); }
        100% { transform: translate(0); }
    }

    .flash { animation: flash 0.3s ease; }
    @keyframes flash {
        0% { background: white; }
        100% { background: black; }
    }

    /* Tries to load cursor, falls back to auto if missing */
    * { cursor: url("blood-cursor.png"), auto; }
</style>
</head>

<body class="flex items-center justify-center min-h-screen">

<audio id="heartbeat" loop preload="auto">
  <source src="heartbeat.mp3" type="audio/mpeg">
</audio>

<audio id="glitchSound" preload="auto">
  <source src="glitch.mp3" type="audio/mpeg">
</audio>

<div id="app" class="text-center w-full px-4"></div>

<script>
const app = document.getElementById("app");
const heartbeat = document.getElementById("heartbeat");
const glitchSound = document.getElementById("glitchSound");

// DEBUGGER: Checks if files exist and logs to console if they don't
function checkFile(filename) {
    fetch(filename, { method: 'HEAD' })
    .then(res => {
        if (!res.ok) console.error(`❌ MISSING FILE: ${filename} (Check name/case sensitivity)`);
        else console.log(`✅ FOUND: ${filename}`);
    }).catch(err => console.log(`⚠️ Network check failed for ${filename}`));
}

// Run check on all assets
['heartbeat.mp3', 'glitch.mp3', 'fokir.mp3', 'acp.mp3', 'robodic_sound.mp3', 
 'nikallowde.mp4', 'backchodix.mp4', 'robodic.jpg', 'Class_Routine_Spring2026_Sec-3.png']
.forEach(file => checkFile(file));


/* HELPER: Audio Player */
function playSound(filename, vol = 1, loop = false) {
    const audio = new Audio(filename);
    audio.volume = vol;
    audio.loop = loop;
    const playPromise = audio.play();
    
    if (playPromise !== undefined) {
        playPromise.catch(error => {
            console.error(`Audio play failed for ${filename}. Interaction needed?`, error);
        });
    }
    return audio;
}

/* Start heartbeat on first click */
document.body.addEventListener("click", () => {
    heartbeat.volume = 0.3;
    heartbeat.play().catch(e => console.log("Heartbeat waiting..."));
}, { once: true });

/* HOME PAGE */
function homePage() {
    app.innerHTML = `
    <h1 class="horror-font text-4xl md:text-5xl mb-10 fade-in">
        Do you want the Spring 2026 9th semester Ultimate class routine for section 3?
    </h1>

    <div class="flex justify-center gap-10 flex-wrap">
        <button id="btnYes" class="px-6 py-3 bg-red-900 hover:bg-red-700 rounded-xl transition">YES</button>
        <button id="btnNo" class="px-6 py-3 bg-gray-800 hover:bg-gray-600 rounded-xl transition">No</button>
        <button id="btnIdgf" class="px-6 py-3 bg-black border border-red-700 hover:bg-red-900 rounded-xl transition">
            I don't give a Fuck
        </button>
    </div>
    `;

    document.getElementById("btnYes").onclick = yesPage;
    document.getElementById("btnNo").onclick = noPage;
    document.getElementById("btnIdgf").onclick = idgfPage;
}

/* YES PAGE */
function yesPage() {
    app.innerHTML = `
    <div class="bangla-font text-3xl mb-8 fade-in">
        কখনো কি ভেবেছো যে এই রুটিন কেন বিনামূল্যে পেতে যাচ্ছ?
    </div>
    <div class="flex justify-center gap-10 mb-8">
        <button id="innerYesBtn" class="px-6 py-3 bg-red-900 rounded-xl">YES</button>
        <button id="innerNoBtn" class="px-6 py-3 bg-gray-800 rounded-xl">NO</button>
    </div>
    `;

    // Inner YES
    document.getElementById("innerYesBtn").addEventListener("click", () => {
        playSound("fokir.mp3", 1);
        app.innerHTML = `
        <div class="bangla-font text-4xl text-red-600 fade-in mb-6">সময় থাকতে ভালো হবা তো?</div>
        <div class="bangla-font text-2xl text-gray-300 mb-4">Press ENTER to accept my words</div>
        `;

        const enterHandler = (e) => {
            if (e.key === "Enter") {
                document.removeEventListener("keydown", enterHandler);
                app.innerHTML = `
                <div class="popup bg-black flex flex-col justify-center items-center min-h-screen gap-4">
                    <img src="Class_Routine_Spring2026_Sec-3.png" class="mx-auto max-w-md rounded-xl shadow-2xl">
                    <a id="downloadBtn" href="Class_Routine_Spring2026_Sec-3.png" download class="px-6 py-3 bg-red-900 text-white rounded-xl hover:bg-red-700 transition">Download Routine</a>
                </div>`;
                
                document.getElementById("downloadBtn").addEventListener("click", () => playSound("acp.mp3", 0.5));
            }
        };
        document.addEventListener("keydown", enterHandler);
    });

    // Inner NO
    document.getElementById("innerNoBtn").addEventListener("click", () => {
        app.innerHTML = `
        <div class="relative min-h-screen flex justify-center items-center bg-black w-full">
            <img src="robodic.jpg" class="mx-auto max-w-lg rounded-xl shadow-2xl">
            <div class="absolute top-4 left-4 text-red-600 bangla-font text-2xl">Beware...</div>
        </div>`;
        
        const audio = playSound("robodic_sound.mp3", 1);
        audio.onended = () => yesPage();
    });
}

/* NO PAGE */
function noPage() {
    document.body.classList.add("flash");
    glitchSound.currentTime = 0;
    glitchSound.play().catch(()=>{});

    setTimeout(() => {
        document.body.classList.remove("flash");
        app.innerHTML = `<div class="flex flex-col items-center justify-center h-screen"><div class="text-6xl horror-font glitch shake mb-10">WTF</div></div>`;

        setTimeout(() => {
            app.innerHTML = `
            <div class="relative flex justify-center items-center w-full">
                <video id="realVideo" class="max-w-3xl w-full mx-auto rounded-xl shadow-2xl opacity-0 transition-opacity duration-500" playsinline>
                    <source src="nikallowde.mp4" type="video/mp4">
                </video>
                <button id="dummyBtn" class="absolute px-8 py-4 bg-black border-2 border-red-700 text-red-600 text-2xl horror-font glitch hover:bg-red-900 transition z-50">▶ BACK</button>
            </div>`;

            const btn = document.getElementById("dummyBtn");
            const vid = document.getElementById("realVideo");

            btn.addEventListener("click", () => {
                btn.remove();
                vid.classList.remove("opacity-0");
                vid.volume = 1;
                vid.play().catch(e => console.error(e));
            });
            vid.onended = () => homePage();
        }, 3000);
    }, 200);
}

/* IDGF PAGE */
function idgfPage() {
    app.innerHTML = `
    <div class="relative flex flex-col items-center justify-center min-h-screen bg-black gap-6 w-full">
        <video id="idgfVideo" playsinline controls class="max-w-4xl w-full mx-auto rounded-xl shadow-2xl fade-in scale-95 hover:scale-100 transition-all duration-1000">
            <source src="backchodix.mp4" type="video/mp4">
        </video>
        <div class="absolute top-4 left-4 text-red-600 bangla-font text-2xl">Nikal bsdk...</div>
    </div>`;

    const video = document.getElementById("idgfVideo");
    video.play().catch(() => { video.muted = true; video.play(); });
    video.onended = () => homePage();
}

homePage();
</script>

</body>
</html>
